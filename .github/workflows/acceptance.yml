name: Acceptance Tests

on:
  pull_request:
    branches: [ main, release/** ]
  push:
    branches: [ main, release/** ]
    tags: [ v* ]

jobs:
  api:
    name: API Tests
    uses: ./.github/workflows/acceptance-test-workflow.yml
    with:
      dependencies: ''
      testfilters: [ api ]

  erc:
    name: ERC Tests
    uses: ./.github/workflows/acceptance-test-workflow.yml
    with:
      dependencies: [ api ]
      testfilters: [ erc ]

  precompile:
    name: Precompile Tests 
    uses: ./.github/workflows/acceptance-test-workflow.yml
    with:
      dependencies: [ api, erc ]
      testfilters: [ tokencreate, tokenmanagement, htsprecompilev1 ]
