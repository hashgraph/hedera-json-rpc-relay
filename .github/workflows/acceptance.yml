name: Acceptance Tests

on:
  pull_request:
    branches: [ main, release/** ]
  push:
    branches: [ main, release/** ]
    tags: [ v* ]

jobs:
  api:
    name: API Tests
    uses: ./.github/workflows/acceptance-test-workflow.yml
    with:
      testfilter: api

  erc20:
    name: ERC20 Tests
    uses: ./.github/workflows/acceptance-test-workflow.yml
    needs: api
    with:
      testfilter: erc20

  tokencreate:
    name: Token Create Tests 
    uses: ./.github/workflows/acceptance-test-workflow.yml
    needs: [ api, erc20 ]
    with: 
      testfilter: tokencreate

  tokenmanagement:
    name: Token Management Tests 
    uses: ./.github/workflows/acceptance-test-workflow.yml
    needs: [ api, erc ]
    with: 
      testfilter: tokenmanagement

  htsprecompilev1:
    name: Precompile Tests 
    uses: ./.github/workflows/acceptance-test-workflow.yml
    needs: [ api, erc ]
    with: 
      testfilter: htsprecompilev1

